%31.10.2024, lecture 5

\section{Lecture 5}

\begin{definition}
	A PKCS is semantically secure if $\forall f, \forall h, \forall A, \forall M$:
	 \[
		 \Pr[A(E(e, m), e, h(m)) = f(m)] \le  \Pr[\tilde A(e, h(m)) = f(m)] + \varepsilon(n)
	.\] 
	Where hint $h$ and  $f$ are poly-time computable.

\end{definition}

\subsection{Symmetric Encryption}

Assume that we have two participants and most messages are not lost.
Let $G \colon \{0, 1\}^{n} \to  \{0, 1\}^{n + 1}$ be a PRG.
Choose $s$ from $U_n$.
This is a permanent key.
Maintain a counter and change the "book" fragment accordingly.
Initial state:  $(0, s)$.
State $(i, s') \to (i + 1, G(s')_{1\ldots })$.
The last bit $b_{n + 1} \coloneqq G(s')_{n + 1}$ is used to encrypyt, $E(b) = b_{n + 1} \oplus b$.
If messages are lost, it takes proportional time to recover $s'$ by repeating  $G$.
On the decryption size, if the message is lost (we need to be notified about it), then we need to update our state many many times, proportional to the number of bits that were lost.
And only then to decode a next bit.
 \begin{exercise}
	Prove that this scheme is secure.
\end{exercise}

We will construct an encryptioh scheme bases on pseudo random functions.
Idea: use truly random function and prove that our construction is secure.
We will generate $f_{\zeta}$ that looks random.
And prova that it is indistinguishabnle from a truly random function.
Your construction should not distinguit it as well, hence \todo{todo}

\begin{definition}[Pseudorandom function family, prff]
	A prff is a family of functions $\{f_{\zeta}\}_{\zeta} $ where $f_{\zeta}  \colon \{0, 1\}^{n}\to \{0, 1\}^{n}$, computed by Boolean circuits generated by a poly-time computable algorithm $Z  \colon (1^{n}, r_Z) \to  f_{\zeta}$ such that $f_{\zeta}$ is indistinguishable from a truly random function.
	For any adversary $A$:
	 \[
		 |\Pr_{A, y}[A(y, 1^{n}) = 1  \mid y \gets f_{\zeta}(U_n)] - \Pr_{A, R, x}[A(x, 1^{n}) = 1  \mid x \gets R(U_n)]| < \varepsilon(n),
	\] where $R \colon \{0, 1\}^{n} \to  \{0, 1\}^{n}$ has a uniformly random truth table.
\end{definition}

